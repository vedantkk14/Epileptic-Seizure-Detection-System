<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Epileptic Seizure Detection System</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            background-size: 400% 400%;
            animation: gradientShift 8s ease infinite;
            min-height: 100vh;
            padding: 20px;
            color: #333;
            overflow-x: hidden;
        }

        @keyframes gradientShift {
            0% {
                background-position: 0% 50%;
            }
            50% {
                background-position: 100% 50%;
            }
            100% {
                background-position: 0% 50%;
            }
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            backdrop-filter: blur(10px);
            animation: fadeInUp 0.6s ease-out;
            transition: transform 0.2s ease;
        }

        .container:hover {
            transform: translateY(-3px);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15);
        }

        .header {
            background: linear-gradient(135deg, #2c5282 0%, #2d3748 100%);
            color: white;
            padding: 40px 30px;
            text-align: center;
            position: relative;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 10 0 L 0 0 0 10" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="0.5"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>');
            opacity: 0.3;
        }

        .header-content {
            position: relative;
            z-index: 1;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            font-weight: 700;
            animation: fadeInUp 0.8s ease-out 0.2s both;
        }

        .header .subtitle {
            font-size: 1.1rem;
            opacity: 0;
            margin-bottom: 20px;
            animation: fadeInUp 0.8s ease-out 0.4s both;
        }

        .medical-icon {
            font-size: 3rem;
            margin-bottom: 20px;
            color: #4fd1c7;
            animation: brainWave 2s ease-in-out infinite;
            transition: all 0.2s ease;
        }

        .medical-icon:hover {
            animation-duration: 1s;
            cursor: pointer;
        }

        .main-content {
            padding: 50px 30px;
        }

        .info-section {
            background: #f8fafc;
            border-left: 5px solid #4299e1;
            padding: 25px;
            margin-bottom: 40px;
            border-radius: 10px;
            animation: fadeInUp 0.6s ease-out 0.6s both;
            transition: all 0.2s ease;
        }

        .info-section:hover {
            transform: translateX(8px);
            background: #edf2f7;
            border-left-width: 8px;
        }

        .info-section h3 {
            color: #2d3748;
            margin-bottom: 15px;
            font-size: 1.3rem;
        }

        .info-section p {
            color: #4a5568;
            line-height: 1.6;
            margin-bottom: 10px;
        }

        .requirements {
            background: #fff5f5;
            border: 1px solid #fed7d7;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 30px;
            animation: fadeInUp 0.6s ease-out 0.8s both;
            transition: all 0.2s ease;
        }

        .requirements:hover {
            transform: scale(1.02);
            box-shadow: 0 6px 20px rgba(254, 215, 215, 0.6);
        }

        .requirements h4 {
            color: #c53030;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .requirements ul {
            color: #744210;
            padding-left: 20px;
        }

        .requirements li {
            margin-bottom: 8px;
        }

        .upload-section {
            background: white;
            border: 3px dashed #cbd5e0;
            border-radius: 15px;
            padding: 40px;
            text-align: center;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            animation: fadeInUp 0.6s ease-out 1s both;
        }

        .upload-section::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(66, 153, 225, 0.1), transparent);
            transform: rotate(45deg);
            transition: all 0.3s ease;
            opacity: 0;
        }

        .upload-section:hover {
            border-color: #4299e1;
            background: #f7fafc;
            transform: translateY(-3px);
            box-shadow: 0 12px 25px rgba(66, 153, 225, 0.2);
        }

        .upload-section:hover::before {
            animation: shimmer 1s ease infinite;
            opacity: 1;
        }

        .upload-section.dragover {
            border-color: #38a169;
            background: #f0fff4;
            transform: scale(1.02);
            animation: pulse 1.5s ease infinite;
        }

        .file-input-wrapper {
            position: relative;
            display: inline-block;
        }

        .file-input {
            position: absolute;
            opacity: 0;
            width: 100%;
            height: 100%;
            cursor: pointer;
        }

        .upload-btn {
            background: linear-gradient(135deg, #4299e1 0%, #3182ce 100%);
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 50px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 4px 15px rgba(66, 153, 225, 0.3);
            position: relative;
            overflow: hidden;
        }

        .upload-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.5s ease;
        }

        .upload-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(66, 153, 225, 0.4);
            animation: glow 1.5s ease infinite;
        }

        .upload-btn:hover::before {
            left: 100%;
        }

        .upload-btn:active {
            transform: translateY(-1px);
        }

        .upload-text {
            margin: 20px 0;
            color: #4a5568;
            font-size: 1rem;
        }

        .selected-file {
            background: #e6fffa;
            border: 1px solid #4fd1c7;
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            display: none;
            animation: fadeInUp 0.3s ease;
            transition: all 0.2s ease;
        }

        .selected-file.show {
            display: block;
            animation: fadeInUp 0.3s ease;
        }

        .selected-file:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(79, 209, 199, 0.3);
        }

        .submit-btn {
            background: linear-gradient(135deg, #38a169 0%, #2f855a 100%);
            color: white;
            padding: 15px 40px;
            border: none;
            border-radius: 50px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 30px;
            box-shadow: 0 4px 15px rgba(56, 161, 105, 0.3);
            position: relative;
            overflow: hidden;
        }

        .submit-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.5s ease;
        }

        .submit-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(56, 161, 105, 0.4);
            animation: pulse 1.5s ease infinite;
        }

        .submit-btn:hover:not(:disabled)::before {
            left: 100%;
        }

        .submit-btn:disabled {
            background: #a0aec0;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
            animation: none;
        }

        .result-section {
            margin-top: 40px;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            font-size: 1.2rem;
            font-weight: 600;
            display: none;
            animation: slideIn 0.4s ease, pulse 2s ease infinite;
            transition: all 0.2s ease;
        }

        .result-section.show {
            display: block;
        }

        .result-section:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
        }

        .result-positive {
            background: linear-gradient(135deg, #fed7d7 0%, #feb2b2 100%);
            border: 2px solid #fc8181;
            color: #c53030;
        }

        .result-negative {
            background: linear-gradient(135deg, #c6f6d5 0%, #9ae6b4 100%);
            border: 2px solid #68d391;
            color: #2f855a;
        }

        .result-error {
            background: linear-gradient(135deg, #fef5e7 0%, #fbd38d 100%);
            border: 2px solid #f6ad55;
            color: #c05621;
        }

        .footer {
            background: #2d3748;
            color: white;
            text-align: center;
            padding: 30px;
            animation: fadeInUp 0.6s ease-out 1.4s both;
        }

        .footer .fa-heartbeat {
            animation: heartbeat 1.5s ease infinite;
            color: #fc8181;
        }

        .footer p {
            margin-bottom: 10px;
        }

        .disclaimer {
            background: #fffbf0;
            border: 1px solid #f6e05e;
            border-radius: 10px;
            padding: 20px;
            margin-top: 30px;
            animation: fadeInUp 0.6s ease-out 1.2s both;
            transition: all 0.2s ease;
        }

        .disclaimer:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(246, 224, 94, 0.3);
        }

        .disclaimer h4 {
            color: #d69e2e;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .disclaimer p {
            color: #744210;
            font-size: 0.95rem;
            line-height: 1.5;
        }

        .loading {
            display: none;
            text-align: center;
            padding: 20px;
        }

        .loading.show {
            display: block;
        }

        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #4299e1;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        .loading-text {
            animation: typing 1.5s steps(30, end) infinite, blink 0.8s step-end infinite;
            overflow: hidden;
            white-space: nowrap;
            border-right: 2px solid #4299e1;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0px);
            }
            50% {
                transform: translateY(-10px);
            }
        }

        @keyframes glow {
            0%, 100% {
                box-shadow: 0 4px 15px rgba(66, 153, 225, 0.3);
            }
            50% {
                box-shadow: 0 4px 25px rgba(66, 153, 225, 0.6);
            }
        }

        @keyframes shimmer {
            0% {
                background-position: -200px 0;
            }
            100% {
                background-position: calc(200px + 100%) 0;
            }
        }

        @keyframes heartbeat {
            0%, 100% {
                transform: scale(1);
            }
            25% {
                transform: scale(1.1);
            }
            50% {
                transform: scale(1);
            }
            75% {
                transform: scale(1.05);
            }
        }

        @keyframes brainWave {
            0%, 100% {
                transform: rotateY(0deg) scale(1);
                color: #4fd1c7;
            }
            25% {
                transform: rotateY(90deg) scale(1.1);
                color: #63b3ed;
            }
            50% {
                transform: rotateY(180deg) scale(1.2);
                color: #68d391;
            }
            75% {
                transform: rotateY(270deg) scale(1.1);
                color: #f687b3;
            }
        }

        @keyframes typing {
            from {
                width: 0;
            }
            to {
                width: 100%;
            }
        }

        @keyframes blink {
            0%, 50% {
                border-color: transparent;
            }
            51%, 100% {
                border-color: #4299e1;
            }
        }

        @media (max-width: 768px) {
            .container {
                margin: 10px;
                border-radius: 15px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .main-content {
                padding: 30px 20px;
            }
            
            .upload-section {
                padding: 30px 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="header-content">
                <div class="medical-icon">
                    <i class="fas fa-brain"></i>
                </div>
                <h1>Epileptic Seizure Detection</h1>
                <p class="subtitle">AI-Powered Medical Analysis System</p>
            </div>
        </header>

        <main class="main-content">
            <div class="info-section">
                <h3><i class="fas fa-info-circle"></i> About This System</h3>
                <p>This advanced machine learning system analyzes EEG data to detect potential epileptic seizure patterns. The system uses Support Vector Machine (SVM) classification with Principal Component Analysis (PCA) for accurate prediction.</p>
                <p>Upload your EEG data file in the specified format to receive an instant analysis with probability scores.</p>
            </div>

            <div class="requirements">
                <h4><i class="fas fa-exclamation-triangle"></i> File Requirements</h4>
                <ul>
                    <li>File format: CSV (.csv) only</li>
                    <li>Dimensions: Exactly 1 row and 178 columns</li>
                    <li>Data type: Numerical EEG feature values</li>
                    <li>No headers or labels required</li>
                </ul>
            </div>

            <form method="POST" enctype="multipart/form-data" id="uploadForm">
                <div class="upload-section" id="uploadSection">
                    <div class="file-input-wrapper">
                        <input type="file" name="file" class="file-input" id="fileInput" accept=".csv" required>
                        <button type="button" class="upload-btn">
                            <i class="fas fa-upload"></i>
                            Choose CSV File
                        </button>
                    </div>
                    <p class="upload-text">or drag and drop your CSV file here</p>
                    
                    <div class="selected-file" id="selectedFile">
                        <i class="fas fa-file-csv"></i>
                        <span id="fileName">No file selected</span>
                    </div>
                </div>

                <center>
                    <button type="submit" class="submit-btn" id="submitBtn" disabled>
                        <i class="fas fa-microscope"></i>
                        Analyze EEG Data
                    </button>
                </center>
            </form>

            <div class="loading" id="loading">
                <div class="spinner"></div>
                <p class="loading-text">Analyzing EEG data... Please wait.</p>
            </div>

            {% if prediction_text %}
            <div class="result-section show {% if '⚠️' in prediction_text %}result-positive{% elif '✅' in prediction_text %}result-negative{% else %}result-error{% endif %}" id="resultSection">
                <div style="font-size: 2rem; margin-bottom: 15px;">
                    {% if '⚠️' in prediction_text %}
                        <i class="fas fa-exclamation-triangle"></i>
                    {% elif '✅' in prediction_text %}
                        <i class="fas fa-check-circle"></i>
                    {% else %}
                        <i class="fas fa-exclamation-circle"></i>
                    {% endif %}
                </div>
                {{ prediction_text }}
            </div>
            {% endif %}

            <div class="disclaimer">
                <h4><i class="fas fa-shield-alt"></i> Medical Disclaimer</h4>
                <p><strong>Important:</strong> This tool is for research and educational purposes only. It should not be used as a substitute for professional medical diagnosis or treatment. Always consult with qualified healthcare professionals for medical advice and diagnosis. The predictions made by this system should be validated by medical experts before any clinical decision-making.</p>
            </div>
        </main>

        <footer class="footer">
            <p><i class="fas fa-heartbeat"></i> Advanced EEG Analysis Technology</p>
            <p>© 2025 Epileptic Seizure Detection System - Medical AI Research</p>
        </footer>
    </div>

    <script>
        const fileInput = document.getElementById('fileInput');
        const uploadSection = document.getElementById('uploadSection');
        const selectedFile = document.getElementById('selectedFile');
        const fileName = document.getElementById('fileName');
        const submitBtn = document.getElementById('submitBtn');
        const uploadForm = document.getElementById('uploadForm');
        const loading = document.getElementById('loading');

        // File input change handler
        fileInput.addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                fileName.textContent = file.name;
                selectedFile.classList.add('show');
                submitBtn.disabled = false;
                
                if (file.name.endsWith('.csv')) {
                    selectedFile.style.borderColor = '#4fd1c7';
                    selectedFile.style.backgroundColor = '#e6fffa';
                } else {
                    selectedFile.style.borderColor = '#fc8181';
                    selectedFile.style.backgroundColor = '#fed7d7';
                }
            }
        });

        // Drag and drop functionality
        uploadSection.addEventListener('dragover', function(e) {
            e.preventDefault();
            uploadSection.classList.add('dragover');
        });

        uploadSection.addEventListener('dragleave', function(e) {
            e.preventDefault();
            uploadSection.classList.remove('dragover');
        });

        uploadSection.addEventListener('drop', function(e) {
            e.preventDefault();
            uploadSection.classList.remove('dragover');
            
            const files = e.dataTransfer.files;
            if (files.length > 0) {
                fileInput.files = files;
                const event = new Event('change');
                fileInput.dispatchEvent(event);
            }
        });

        // Form submission with loading state
        uploadForm.addEventListener('submit', function(e) {
            if (fileInput.files.length > 0) {
                loading.classList.add('show');
                submitBtn.disabled = true;
                submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Processing...';
            }
        });

        // Add floating animation to icons
        document.querySelectorAll('.fas').forEach((icon, index) => {
            icon.style.animation = `float 2s ease-in-out infinite`;
            icon.style.animationDelay = `${index * 0.3}s`;
        });

        // Add staggered animations to list items
        document.querySelectorAll('.requirements li').forEach((li, index) => {
            li.style.animation = `fadeInUp 0.4s ease-out ${1 + (index * 0.15)}s both`;
            li.style.opacity = '0';
        });

        // Add hover effect to result icons
        document.addEventListener('DOMContentLoaded', function() {
            const resultIcon = document.querySelector('.result-section i');
            if (resultIcon) {
                resultIcon.addEventListener('mouseenter', function() {
                    this.style.animation = 'brainWave 0.8s ease-in-out infinite';
                });
                resultIcon.addEventListener('mouseleave', function() {
                    this.style.animation = '';
                });
            }
        });

        // Enhanced drag effects with particles
        function createParticle(x, y) {
            const particle = document.createElement('div');
            particle.style.cssText = `
                position: fixed;
                left: ${x}px;
                top: ${y}px;
                width: 6px;
                height: 6px;
                background: #4299e1;
                border-radius: 50%;
                pointer-events: none;
                z-index: 1000;
                animation: particleFloat 1.5s ease-out forwards;
            `;
            
            const style = document.createElement('style');
            style.textContent = `
                @keyframes particleFloat {
                    0% {
                        opacity: 1;
                        transform: translateY(0) scale(1);
                    }
                    100% {
                        opacity: 0;
                        transform: translateY(-80px) scale(0);
                    }
                }
            `;
            document.head.appendChild(style);
            document.body.appendChild(particle);
            
            setTimeout(() => {
                document.body.removeChild(particle);
                document.head.removeChild(style);
            }, 1500);
        }

        // Enhanced drag and drop with particle effects
        uploadSection.addEventListener('dragenter', function(e) {
            e.preventDefault();
            this.classList.add('dragover');
            
            // Create particles on drag enter
            const rect = this.getBoundingClientRect();
            for (let i = 0; i < 5; i++) {
                setTimeout(() => {
                    createParticle(
                        rect.left + Math.random() * rect.width,
                        rect.top + Math.random() * rect.height
                    );
                }, i * 80);
            }
        });

        // Click handler for upload button and section
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('upload-btn') || 
                (e.target === uploadSection && !e.target.closest('input, button'))) {
                fileInput.click();
            }
        });
    </script>
</body>
</html>